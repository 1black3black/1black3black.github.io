{"posts":[{"title":"Interactive Test","text":"æ‹·æ‰“ä¸€ä¸‹AIé»‘å¥´ï¼Œæµ‹è¯•èƒ½å¦ç”Ÿæˆä¸€ä¸ªç®€å•çš„JavaScript demo ğŸ¾ /* å®šä¹‰çŒ«çˆªå°çš„åŸºæœ¬æ ·å¼ */ .cat-paw { position: absolute; width: 80px; height: 80px; background-size: contain; background-repeat: no-repeat; pointer-events: none; /* å…è®¸ç‚¹å‡»ç©¿é€ */ transform: translate(-50%, -50%); /* ç¡®ä¿çˆªå°ä¸­å¿ƒåœ¨ç‚¹å‡»ä½ç½® */ z-index: 1000; /* åº”ç”¨ 3ç§’çš„æ·¡å…¥æ·¡å‡ºåŠ¨ç”» */ animation: pawFade 3s ease-out forwards; } /* å®šä¹‰æ·¡å…¥æ·¡å‡ºåŠ¨ç”» */ @keyframes pawFade { 0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); } /* åˆå§‹ï¼šé€æ˜ï¼Œç•¥å¾®ç¼©å° */ 10% { opacity: 1; transform: translate(-50%, -50%) scale(1); } /* 10% æ—¶ï¼šå®Œå…¨æ˜¾ç¤º */ 90% { opacity: 1; } /* ä¿æŒæ˜¾ç¤º */ 100% { opacity: 0; transform: translate(-50%, -50%) scale(1); } /* ç»“æŸï¼šå®Œå…¨é€æ˜ */ } document.addEventListener('DOMContentLoaded', () => { const startButton = document.getElementById('start-button'); const body = document.body; const pawImagePath = '/assets/cat_paw.png'; // æ–°å¢ï¼šçŒ«å«éŸ³é¢‘æ–‡ä»¶è·¯å¾„åˆ—è¡¨ const meowAudioPaths = ['/assets/Meow1.ogg', '/assets/Meow2.ogg']; // ä½¿ç”¨ AudioContextï¼ˆç°ä»£æµè§ˆå™¨æ ‡å‡†ï¼‰æ¥åˆ›å»ºéŸ³é¢‘æ’­æ”¾æº let audioContext; // ä½¿ç”¨ Map å­˜å‚¨æ‰€æœ‰åŠ è½½çš„éŸ³é¢‘ç¼“å†²åŒº let meowBuffers = new Map(); // å°è¯•åŠ è½½éŸ³é¢‘æ–‡ä»¶ async function loadMeowAudio() { try { if (!audioContext) { audioContext = new (window.AudioContext || window.webkitAudioContext)(); } // å¹¶è¡ŒåŠ è½½æ‰€æœ‰éŸ³é¢‘æ–‡ä»¶ const loadPromises = meowAudioPaths.map(async (path) => { const response = await fetch(path); const arrayBuffer = await response.arrayBuffer(); const audioBuffer = await audioContext.decodeAudioData(arrayBuffer); meowBuffers.set(path, audioBuffer); }); await Promise.all(loadPromises); console.log(\"æ‰€æœ‰çŒ«å’ªéŸ³é¢‘æ–‡ä»¶åŠ è½½æˆåŠŸ.\"); } catch (error) { console.error(\"Failed to load or decode audio:\", error); console.error(\"åŠ è½½éŸ³é¢‘æ–‡ä»¶å¤±è´¥ï¼è¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ã€‚\"); } } // æ’­æ”¾éŸ³é¢‘çš„å‡½æ•° (ä½¿ç”¨ AudioContext) function playMeow() { const availableBuffers = Array.from(meowBuffers.values()); if (availableBuffers.length === 0) { console.warn(\"æ²¡æœ‰å¯ç”¨çš„éŸ³é¢‘ç¼“å†²åŒºï¼Œæ— æ³•æ’­æ”¾ã€‚\"); return; } // éšæœºé€‰æ‹©ä¸€ä¸ªéŸ³é¢‘ç¼“å†²åŒº const randomIndex = Math.floor(Math.random() * availableBuffers.length); const selectedBuffer = availableBuffers[randomIndex]; const source = audioContext.createBufferSource(); source.buffer = selectedBuffer; source.connect(audioContext.destination); source.start(0); } // ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶ startButton.addEventListener('click', async () => { // æ­¥éª¤ 1: æŒ‰é’®æ¶ˆå¤± startButton.style.display = 'none'; // é¢„åŠ è½½éŸ³é¢‘ await loadMeowAudio(); // æ­¥éª¤ 2: ç»‘å®šå±å¹•ç‚¹å‡»äº‹ä»¶ body.addEventListener('click', handlePageClick); // ç»™å‡ºæç¤º console.log('çŒ«å’ªæ¨¡å¼å·²æ¿€æ´»ï¼ç°åœ¨ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®...'); }); // åˆ›å»ºå¹¶æ˜¾ç¤ºçŒ«çˆªå°çš„å‡½æ•° function createPawPrint(x, y) { const paw = document.createElement('div'); paw.classList.add('cat-paw'); paw.style.backgroundImage = 'url(' + pawImagePath + ')'; // ä½¿ç”¨ url æ‹¼æ¥ï¼Œç¡®ä¿ bash ä¸­ä¸ä¼šä¸­æ–­ paw.style.left = `${x}px`; paw.style.top = `${y}px`; document.body.appendChild(paw); // åœ¨åŠ¨ç”»ç»“æŸåï¼ˆ3ç§’åï¼‰ç§»é™¤å…ƒç´  paw.addEventListener('animationend', () => { paw.remove(); }); } // å¤„ç†é¡µé¢ç‚¹å‡»çš„å‡½æ•° function handlePageClick(event) { if (event.target.id === 'start-button' || event.target.closest('#interaction-container')) { // å¿½ç•¥ç‚¹å‡»å®¹å™¨å†…éƒ¨çš„å…ƒç´ ï¼Œé˜²æ­¢é‡å¤è§¦å‘ return; } playMeow(); // æ’­æ”¾çŒ«å«å£° (éšæœºé€‰æ‹©) createPawPrint(event.clientX, event.clientY); // åˆ›å»ºçŒ«çˆªå° } });","link":"/blog/interactive-test/"},{"title":"LeetGPU Problem 1: Vector Addition","text":"Starting with this post, I will be irregularly updating solutions for LeetGPU problems. My goal is to aim for a top-three spot on the performance leaderboard, with the NVIDIA H100 as the benchmark for testing performance. Problem link: Vector Addition The simplest question, calculate the sum of two vectors. Mapping threads one-to-one with data and performing direct summation is an intuitive choice, but using vectorized reads can further improve memory access speed. Solution123456789101112131415161718192021222324252627282930313233343536373839#include &quot;solve.h&quot;#include &lt;cuda_runtime.h&gt;template&lt;size_t BLOCK_TILE_SIZE, size_t THREAD_TILE_SIZE, typename VECTOR_TYPE&gt;__global__ void vector_add(const float* A, const float* B, float* C, int N) { size_t const thread_idx{blockIdx.x * (BLOCK_TILE_SIZE / THREAD_TILE_SIZE) + threadIdx.x}; size_t const res = N % BLOCK_TILE_SIZE; if(thread_idx*THREAD_TILE_SIZE + THREAD_TILE_SIZE - 1U &lt; N){ VECTOR_TYPE A_temp = reinterpret_cast&lt;const VECTOR_TYPE*&gt;(A)[thread_idx]; VECTOR_TYPE B_temp = reinterpret_cast&lt;const VECTOR_TYPE*&gt;(B)[thread_idx]; VECTOR_TYPE C_temp; C_temp.x = A_temp.x + B_temp.x; C_temp.y = A_temp.y + B_temp.y; C_temp.z = A_temp.z + B_temp.z; C_temp.w = A_temp.w + B_temp.w; reinterpret_cast&lt;VECTOR_TYPE*&gt;(C)[thread_idx] = C_temp; }else{#pragma unroll for(int i = 0; i &lt; THREAD_TILE_SIZE; i++){ if(thread_idx*THREAD_TILE_SIZE + i &lt; N){ C[thread_idx*THREAD_TILE_SIZE + i] = A[thread_idx*THREAD_TILE_SIZE + i] + B[thread_idx*THREAD_TILE_SIZE + i]; } } }}// A, B, C are device pointers (i.e. pointers to memory on the GPU)void solve(const float* A, const float* B, float* C, int N) { using VECTOR_TYPE = float4; constexpr unsigned int BLOCK_TILE_SIZE = 4096U; constexpr unsigned int THREAD_TILE_SIZE = 4U; dim3 const grid_dim{(static_cast&lt;unsigned int&gt;(N) + BLOCK_TILE_SIZE - 1U) / BLOCK_TILE_SIZE, 1U, 1U}; dim3 const block_dim{BLOCK_TILE_SIZE / THREAD_TILE_SIZE, 1U, 1U}; vector_add&lt;BLOCK_TILE_SIZE, THREAD_TILE_SIZE, VECTOR_TYPE&gt;&lt;&lt;&lt;grid_dim, block_dim&gt;&gt;&gt;(A, B, C, N); cudaDeviceSynchronize();}","link":"/blog/LeetGPUprob1/"}],"tags":[{"name":"CUDA","slug":"CUDA","link":"/tags/CUDA/"},{"name":"C++","slug":"C","link":"/tags/C/"}],"categories":[{"name":"life","slug":"life","link":"/categories/life/"},{"name":"solution","slug":"solution","link":"/categories/solution/"}],"pages":[{"title":"ä¸ªäººç®€ä»‹","text":"å…³äºæˆ‘æ‡’ç™Œå¤å‘äº†ï¼Œæ‘¸å®Œå†å†™","link":"/about/index.html"}]}